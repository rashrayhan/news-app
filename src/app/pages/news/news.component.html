
<ng-container *ngIf="flag; else elseTemplate">

  <!--Section: Magazine v.1-->
<section class="magazine-section my-5">


  <!-- Grid row -->
  <div class="row">

    <!-- Grid column for Headlines-->
    <div class="col-lg-6 col-md-12">

      <!-- Featured news -->
      <div class="single-news mb-4 featured-news" *ngFor="let item of headlines | slice:0:1" (click)="openModal(item.publishedAt, basicModal.show())">

        <!-- Image -->
        <div class="view overlay rounded z-depth-1-half mb-2">
          <img class="img-fluid" src="{{item.urlToImage}}" alt="{{item.title}}">
          <a>
            <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
          </a>
        </div>

        <!-- Data -->
        <div class="news-data d-flex justify-content-between">
          <h5 class="font-weight-bold dark-grey-text">
            <mdb-icon fas icon="user" class="pr-2"></mdb-icon>{{item.author}}</h5>

          <p class="font-weight-bold dark-grey-text">
            <mdb-icon far icon="clock" class="pr-2"></mdb-icon>{{item.publishedAt | date}}</p>
        </div>

        <!-- Excerpt -->
        <h3 class="font-weight-bold dark-grey-text mb-2">
          <a>{{item.title}}</a>
        </h3>
        <p class="dark-grey-text">{{item.description}}</p>

      </div>
      <!-- Featured news -->



      <!-- Small news -->
      <div class="single-news">

        <!-- Grid row -->
        <div class="py-2 row single-news-item" *ngFor="let item of headlines | slice:1; let i = index" (click)="openModal(item.publishedAt, basicModal.show())">

          <!-- Grid column -->
          <div class="col-md-3 mb-3">

            <!--Image-->
            <div class="view overlay rounded z-depth-1">
              <img class="img-fluid" src="{{item.urlToImage}}" alt="{{item.title}}">
              <a>
                <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
              </a>
            </div>

          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-md-9">

            <!-- Excerpt -->
            <p class="font-weight-bold dark-grey-text"> {{item.title}} </p>
            <div class="d-flex justify-content-between">
              <div class="col-12 pl-0">
                <p class="text-muted">{{item.description | slice:0:100}}...</p>
                <p class="small text-right muted">{{item.publishedAt | date}}</p>
              </div>
              <a>
                <mdb-icon fas icon="angle-double-right"></mdb-icon>
              </a>
            </div>

          </div>
          <!-- Grid column -->

        </div>
        <!-- Grid row -->

      </div>
      <!-- Small news -->

    </div>
    <!-- Grid column -->



    <!-- Grid column for Nigeria news -->
    <div class="col-lg-6 col-md-12">

      <!-- Featured news -->
      <div class="single-news mb-4 featured-news" *ngFor="let item of articles | slice:0:1" (click)="openModal(item.publishedAt, basicModal.show())">

        <!-- Image -->
        <div class="view overlay rounded z-depth-1-half mb-2">
          <img class="img-fluid" src="{{item.urlToImage}}" alt="{{item.title}}">
          <a>
            <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
          </a>
        </div>

        <!-- Data -->
        <div class="news-data d-flex justify-content-between">
          <h5 class="font-weight-bold dark-grey-text">
            <mdb-icon fas icon="user" class="pr-2"></mdb-icon>{{item.author}}</h5>

          <p class="font-weight-bold dark-grey-text">
            <mdb-icon far icon="clock" class="pr-2"></mdb-icon>{{item.publishedAt | date}}</p>
        </div>

        <!-- Excerpt -->
        <h3 class="font-weight-bold dark-grey-text mb-2">
          <a>{{item.title}}</a>
        </h3>
        <p class="dark-grey-text">{{item.description}}</p>

      </div>
      <!-- Featured news -->

      <!-- Small news -->
      <div class="single-news">

        <!-- Grid row -->
        <div class="py-2 row single-news-item" *ngFor="let item of articles | slice:1" (click)="openModal(item.publishedAt, basicModal.show())">

          <!-- Grid column -->
          <div class="col-md-3 mb-3">

            <!--Image-->
            <div class="view overlay rounded z-depth-1">
              <img class="img-fluid" src="{{item.urlToImage}}" alt="{{item.title}}">
              <a>
                <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
              </a>
            </div>

          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-md-9">

            <!-- Excerpt -->
            <p class="font-weight-bold dark-grey-text">{{item.title}}</p>
            <div class="d-flex justify-content-between">
              <div class="col-12 pl-0">
                <p class="text-muted">{{item.description | slice:0:100}}...</p>
                <p class="small text-right muted">{{item.publishedAt | date}}</p>
              </div>
              <a>
                <mdb-icon fas icon="angle-double-right"></mdb-icon>
              </a>
            </div>

          </div>
          <!-- Grid column -->

        </div>
        <!-- Grid row -->

      </div>
      <!-- Small news -->

    </div>
    <!-- Grid column -->

  </div>
  <!-- Grid row -->

</section>
<!--/Section: Magazine v.1-->


<!-- modal for specific news -->
<div mdbModal #basicModal="mdbModal" style="overflow-y: scroll"  class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-full-height modal-right" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title w-100 text-center" id="myModalLabel">{{article_title}}</h3>
      </div>
      <div class="modal-body">
        <div class="modal-body-image">
          <img src="{{article_img}}"/>
        </div>
        <div class="modal-body-content pt-3">
          {{article_content}}
        </div>
        <div class="mt-2">
          <p>Click <a href="{{article_url}}" target="_blank">here</a> to read full news</p>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>Close</button>
      </div>
    </div>
  </div>
</div>


</ng-container>

<ng-template #elseTemplate>
  <div class="d-flex justify-content-center spinner-div">
    <div class="spinner-grow text-secondary" role="status" >
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>


